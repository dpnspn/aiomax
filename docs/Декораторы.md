Декораторы используются для обработки поступающих запросов с Max API - например, получения сообщений или поступления команд. Они доступны для использования в [роутерах](Роутеры).

Каждый декоратор, кроме `on_button_chat_create()`, `on_ready` и `on_exception`, также отправляют функции объект класса `FSMCursor` как аргумент `cursor` используя `user_id` пользователя, совершившего действие. Подробнее на странице [FSM](FSM)

Все декораторы кроме `on_ready` поддерживают [фильтры](Фильтры)

## `on_message(*filters, mode: str = 'and')`

Декоратор для получения сообщений.

Если `detect_commands == True`, то декоратор сработает независимо от того, является ли сообщение командой или нет.

Отправляет функции объект класса `Message`.

## `on_message_edit(*filters, mode: str = 'and')`

Декоратор для получения сообщений при их редактировании.

Отправляет функции объект класса `MessageEditPayload`.

## `on_message_delete(*filters, mode: str = 'and')`

Декоратор для получения сообщений при их удалении.

Отправляет функции объект класса `MessageDeletePayload`.

## `on_bot_start(*filters, mode: str = 'and')`

Декоратор вызывается, когда пользователь жмет кнопку "Начать" в ЛС с ботом.

Отправляет функции объект класса `BotStartPayload`.

## `on_ready()`

Декоратор вызывается перед началом долгого опроса (поллинга).

## `on_command(name: str | None = None, *filters, mode: str='and', aliases: List[str] = [], description: str | None = None, as_message: bool = False)`

Декоратор для получения команд с префиксом.

- `name` - название команды

- `filters` - [Фильтры](Фильтры). Передаются как распакованные аргументы

Следующие параметры должны передаваться только как именованные аргументы (иначе будут зачтены как фильтры)

- `description` - описание команды, которое будет отображаться в приложении после вызова `Bot.sync_commands()`

- `aliases` - список с альтернативными названиями команд

Если переданный `as_message` является `False`, то сообщение с командой не будет отправляться обработчикам `on_message`, у которых `detect_commands` является `False`.

Если `name` не указан, то название команды берется из имени функции.

Отправляет функции объект класса `CommandsContext`.

## `on_button_callback(filter: Callable | None = None)`

Декоратор для отслеживания нажатий на кнопки типа `CallbackButton`.

Поддерживает фильтры. Вставьте `Callable` функцию в параметр функции on_button_callback - в неё при отправке сообщения будет передаваться `Callback`. Если она вернет `True`, функция вызовется.

Если вставить `str`, то будет вызываться в случае, если `Callable.payload` равен `str`.

Отправляет функции объект класса `Callback`.

## `on_button_chat_create(*filters, mode: str='and')`

Декоратор для отслеживания нажатий на создание чатов с помощью кнопки типа `ChatButton`.

Отправляет функции объект класса `ChatCreatePayload`.

## `on_bot_add(*filters, mode: str='and')`

Декоратор для отслеживания добавления бота в чаты.

Отправляет функции объект класса `ChatMembershipPayload`.

## `on_bot_remove(*filters, mode: str='and')`

Декоратор для отслеживания удаления бота с чатов.

Отправляет функции объект класса `ChatMembershipPayload`.

## `on_user_add(*filters, mode: str='and')`

Декоратор для отслеживания добавления или входа пользователей в чаты.

Отправляет функции объект класса `UserMembershipPayload`.

## `on_user_remove(*filters, mode: str='and')`

Декоратор для отслеживания удаления или выхода пользователей с чатов.

Отправляет функции объект класса `UserMembershipPayload`.

## `on_chat_title_change(*filters, mode: str='and')`

Декоратор для отслеживания изменений названий чатов.

Отправляет функции объект класса `ChatTitleEditPayload`.

## `on_exception(*filters, mode: str='and')`

Декоратор для отслеживания исключений в любом из других хендлеров.

Отправляет функции объект класса `ExceptionContext`.

Пример использования можно найти в [Примерах](Примеры).

При добавлении хотя бы одного обработчика `on_exception` ошибки других обработчиков в терминал отправляться не будут.
